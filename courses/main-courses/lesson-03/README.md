# ç¬¬3æ¬¡è¯¾ï¼šé«˜é€šé‡æµ‹åºåºåˆ—æ¯”å¯¹ç®—æ³•ä¸å·¥å…·

## è¯¾ç¨‹æ¦‚è¿°

æœ¬æ¬¡è¯¾ç¨‹æ·±å…¥è®²è§£é«˜é€šé‡æµ‹åºæ•°æ®åˆ†æä¸­æœ€æ ¸å¿ƒçš„æ­¥éª¤ä¹‹ä¸€ï¼šåºåˆ—æ¯”å¯¹ã€‚å­¦ç”Ÿå°†å­¦ä¹ BWAå’ŒBowtie2ä¸¤ç§ä¸»æµæ¯”å¯¹å·¥å…·çš„åŸç†ã€ä½¿ç”¨æ–¹æ³•å’Œå‚æ•°ä¼˜åŒ–ã€‚

## å­¦ä¹ ç›®æ ‡

1. **ç†è§£æ¯”å¯¹ç®—æ³•åŸç†**
   - Burrows-Wheeler Transform (BWT)
   - FM-indexç´¢å¼•ç»“æ„
   - ç§å­å»¶ä¼¸ç­–ç•¥

2. **æŒæ¡æ¯”å¯¹å·¥å…·ä½¿ç”¨**
   - BWA-MEMçš„ä½¿ç”¨å’Œå‚æ•°ä¼˜åŒ–
   - Bowtie2çš„ä¸åŒæ¯”å¯¹æ¨¡å¼
   - SAM/BAMæ ¼å¼å¤„ç†

3. **æ¯”å¯¹è´¨é‡è¯„ä¼°**
   - æ¯”å¯¹ç»Ÿè®¡åˆ†æ
   - è´¨é‡æ§åˆ¶æ ‡å‡†
   - ç»“æœå¯è§†åŒ–

## è¯¾ç¨‹ææ–™

### ğŸ“Š è¯¾ä»¶ (slides/)
- \`slides.md\` - Marpæ ¼å¼çš„è¯¾ç¨‹å¹»ç¯ç‰‡
- åŒ…å«ç®—æ³•åŸç†ã€å·¥å…·ä»‹ç»å’Œå®ä¾‹æ¼”ç¤º

### ğŸ“– å®éªŒæ‰‹å†Œ (manual/)
- \`manual.md\` - è¯¦ç»†çš„å®éªŒæ“ä½œæŒ‡å—
- \`DATA_SOURCES.md\` - æ•°æ®æ¥æºå’Œå‡†å¤‡è¯´æ˜
- \`scripts/\` - å®éªŒè„šæœ¬ç›®å½•
  - \`prepare_data.sh\` - è‡ªåŠ¨åŒ–æ•°æ®å‡†å¤‡è„šæœ¬

### ğŸ“ ç›®å½•ç»“æ„
\`\`\`
lesson-03/
â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶
â”œâ”€â”€ slides/
â”‚   â””â”€â”€ slides.md               # è¯¾ç¨‹å¹»ç¯ç‰‡
â”œâ”€â”€ manual/
â”‚   â”œâ”€â”€ manual.md               # å®éªŒæ‰‹å†Œ
â”‚   â”œâ”€â”€ DATA_SOURCES.md         # æ•°æ®è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ data/                   # æµ‹åºæ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ reference/              # å‚è€ƒåŸºå› ç»„ç›®å½•
â”‚   â”œâ”€â”€ results/                # ç»“æœè¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ logs/                   # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ scripts/                # åˆ†æè„šæœ¬
â”‚       â”œâ”€â”€ prepare_data.sh     # æ•°æ®å‡†å¤‡è„šæœ¬
â”‚       â”œâ”€â”€ alignment_stats.py  # æ¯”å¯¹ç»Ÿè®¡è„šæœ¬
â”‚       â”œâ”€â”€ visualize_results.py # ç»“æœå¯è§†åŒ–è„šæœ¬
â”‚       â””â”€â”€ generate_report.py  # æŠ¥å‘Šç”Ÿæˆè„šæœ¬
â””â”€â”€ images/                     # è¯¾ç¨‹å›¾ç‰‡èµ„æº
\`\`\`

## å¿«é€Ÿå¼€å§‹

### 1. å‡†å¤‡å·¥ä½œç¯å¢ƒ

\`\`\`bash
# è¿›å…¥å®éªŒç›®å½•
cd lesson-03/manual

# åˆ›å»ºå¿…è¦çš„å­ç›®å½•
mkdir -p data reference results logs scripts

# æ£€æŸ¥è½¯ä»¶å®‰è£…
bwa 2>&1 | head -3
bowtie2 --version | head -1
samtools --version | head -1
\`\`\`

### 2. å‡†å¤‡å®éªŒæ•°æ®

**æ¨èæ–¹å¼ï¼ˆä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼‰ï¼š**
\`\`\`bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/prepare_data.sh

# è¿è¡Œæ•°æ®å‡†å¤‡è„šæœ¬
bash scripts/prepare_data.sh

# è¯¥è„šæœ¬å°†è‡ªåŠ¨ï¼š
# 1. ä»Ensembl/UCSCä¸‹è½½äººç±»22å·æŸ“è‰²ä½“å‚è€ƒåºåˆ—
# 2. ä»NCBI SRAä¸‹è½½çœŸå®æµ‹åºæ•°æ®æˆ–ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
# 3. éªŒè¯æ•°æ®å®Œæ•´æ€§
\`\`\`

**æ‰‹åŠ¨æ–¹å¼ï¼š**
è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒ [manual/manual.md](manual/manual.md) ç¬¬1.4èŠ‚

### 3. å¼€å§‹å®éªŒ

æŒ‰ç…§ [manual/manual.md](manual/manual.md) ä¸­çš„æ­¥éª¤ä¾æ¬¡å®Œæˆï¼š

1. âœ… ç¯å¢ƒè®¾ç½®å’Œæ•°æ®å‡†å¤‡
2. ğŸ”§ æ„å»ºå‚è€ƒåŸºå› ç»„ç´¢å¼•
3. ğŸ§¬ ä½¿ç”¨BWAè¿›è¡Œåºåˆ—æ¯”å¯¹
4. ğŸ¯ ä½¿ç”¨Bowtie2è¿›è¡Œåºåˆ—æ¯”å¯¹
5. ğŸ“Š æ¯”å¯¹ç»“æœç»Ÿè®¡å’Œåˆ†æ
6. ğŸ“ˆ ç»“æœå¯è§†åŒ–
7. âš¡ æ€§èƒ½æ¯”è¾ƒå’Œåˆ†æ

## è½¯ä»¶è¦æ±‚

### æ ¸å¿ƒå·¥å…·
- **BWA** (>= 0.7.17) - åºåˆ—æ¯”å¯¹å·¥å…·
- **Bowtie2** (>= 2.4.0) - åºåˆ—æ¯”å¯¹å·¥å…·
- **samtools** (>= 1.10) - SAM/BAMæ–‡ä»¶å¤„ç†

### è¾…åŠ©å·¥å…·
- **Python 3.8+** - è„šæœ¬è¿è¡Œç¯å¢ƒ
  - pandas - æ•°æ®å¤„ç†
  - matplotlib - å›¾è¡¨ç»˜åˆ¶
  - seaborn - é«˜çº§å¯è§†åŒ–
- **IGV** - åŸºå› ç»„æµè§ˆå™¨ï¼ˆå¯é€‰ï¼‰

### å®‰è£…æ–¹æ³•

**ä½¿ç”¨Condaï¼ˆæ¨èï¼‰ï¼š**
\`\`\`bash
# å®‰è£…æ¯”å¯¹å·¥å…·
conda install -c bioconda bwa bowtie2 samtools

# å®‰è£…æ•°æ®ä¸‹è½½å·¥å…·ï¼ˆå¯é€‰ï¼‰
conda install -c bioconda sra-tools wgsim

# å®‰è£…Pythonä¾èµ–
pip install pandas matplotlib seaborn
\`\`\`

## æ•°æ®è¯´æ˜

### å‚è€ƒåŸºå› ç»„
- **æ¥æº**: Ensemblæˆ–UCSCå…¬å…±æ•°æ®åº“
- **ç‰ˆæœ¬**: GRCh38 (hg38)
- **å†…å®¹**: äººç±»22å·æŸ“è‰²ä½“å‰5Mb
- **ç”¨é€”**: åºåˆ—æ¯”å¯¹çš„å‚è€ƒåºåˆ—

### æµ‹åºæ•°æ®
æä¾›ä¸‰ç§è·å–æ–¹å¼ï¼š

1. **çœŸå®æ•°æ®** (æ¨èç”¨äºå®Œæ•´ä½“éªŒ)
   - æ¥æº: NCBI SRA (SRR622461)
   - ç±»å‹: Illumina paired-endæµ‹åº
   - è§„æ¨¡: 100ä¸‡æ¡reads

2. **æ¨¡æ‹Ÿæ•°æ®** (æ¨èç”¨äºå¿«é€Ÿå®éªŒ)
   - å·¥å…·: wgsim
   - ä¼˜ç‚¹: å¿«é€Ÿç”Ÿæˆï¼Œå‚æ•°å¯æ§

3. **è¯¾ç¨‹æœåŠ¡å™¨** (å¦‚æœå¯ç”¨)
   - ä¼˜ç‚¹: ä¸‹è½½é€Ÿåº¦å¿«
   - éœ€è¦: å†…ç½‘è®¿é—®æƒé™

è¯¦ç»†ä¿¡æ¯è¯·å‚é˜… [manual/DATA_SOURCES.md](manual/DATA_SOURCES.md)

## é¢„æœŸç»“æœ

å®Œæˆæœ¬æ¬¡å®éªŒåï¼Œå­¦ç”Ÿåº”è¯¥èƒ½å¤Ÿï¼š

### æŠ€èƒ½æŒæ¡
- âœ… æ„å»ºå‚è€ƒåŸºå› ç»„ç´¢å¼•
- âœ… ä½¿ç”¨BWAå’ŒBowtie2è¿›è¡Œåºåˆ—æ¯”å¯¹
- âœ… å¤„ç†å’Œè½¬æ¢SAM/BAMæ–‡ä»¶
- âœ… è¯„ä¼°æ¯”å¯¹è´¨é‡
- âœ… ä¼˜åŒ–æ¯”å¯¹å‚æ•°

## æ‰©å±•èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [BWA Manual](http://bio-bwa.sourceforge.net/bwa.shtml)
- [Bowtie2 Manual](http://bowtie-bio.sourceforge.net/bowtie2/manual.shtml)
- [SAMtools Documentation](http://www.htslib.org/doc/)

### é‡è¦æ–‡çŒ®
1. Li & Durbin (2009). Fast and accurate short read alignment with Burrows-Wheeler transform. *Bioinformatics*.
2. Langmead & Salzberg (2012). Fast gapped-read alignment with Bowtie 2. *Nature Methods*.

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: å†…å­˜ä¸è¶³é”™è¯¯**
\`\`\`bash
# å‡å°‘çº¿ç¨‹æ•°
bwa mem -t 2 ...
\`\`\`

**Q: æ— æ³•ä¸‹è½½æ•°æ®**
\`\`\`bash
# ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
bash scripts/prepare_data.sh --sequencing
\`\`\`

æ›´å¤šé—®é¢˜è¯·å‚è€ƒ [manual/manual.md](manual/manual.md) çš„æ•…éšœæ’é™¤ç« èŠ‚ã€‚

## è”ç³»æ–¹å¼

- **ä¸»è®²æ•™å¸ˆ**: ç‹è¿ç”Ÿ
- **é‚®ç®±**: wangys@hunau.edu.cn
- **ä¸Šè¯¾åœ°ç‚¹**: 105æœºæˆ¿

---

**æ›´æ–°æ—¥æœŸ**: 2025-10-13
